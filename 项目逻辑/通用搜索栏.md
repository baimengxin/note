# my-search

```vue
<template>
  <view class="input-container">
    <input
      class="input-field"
      :type="type"
      :value="value"
      :placeholder="placeholder"
      :disabled="disabled"
      @input="handleInput"
      @focus="handleFocus"
      @blur="handleBlur"
    />
    <view v-if="showClearIcon && value" class="clear-icon" @click="clearInput">
      <image src="@/static/assets/images/icon/icon-clear.png" />
    </view>
    <view v-if="showCancelButton" class="cancel-button" @click="cancelInput">
      取消
    </view>
  </view>
</template>

<script>
export default {
  name: "FlInput",
  props: {
    value: {
      type: String,
      default: "",
    },
    type: {
      type: String,
      default: "text",
    },
    placeholder: {
      type: String,
      default: "请输入",
    },
    disabled: {
      type: Boolean,
      default: false,
    },
    showClearIcon: {
      type: Boolean,
      default: true,
    },
    showCancelButton: {
      type: Boolean,
      default: true,
    },
  },
  methods: {
    handleInput(event) {
      this.$emit("input", event.target.value);
    },
    handleFocus(event) {
      this.$emit("focus", event);
    },
    handleBlur(event) {
      this.$emit("blur", event);
    },
    clearInput() {
      this.$emit("input", "");
    },
    cancelInput() {
      this.clearInput();
      this.$emit("cancel");
    },
  },
};
</script>

<style scoped lang="scss">
.input-container {
  display: flex;
  align-items: center;
  width: 100%;
  height: 88rpx;
  padding: 0 20rpx;
  background-color: #f7f7f7;
  border-radius: 44rpx;
}

.input-field {
  flex: 1;
  height: 100%;
  border: none;
  background: none;
  outline: none;
  font-size: 28rpx;
  padding: 0 20rpx;
}

.clear-icon {
  margin-left: 10rpx;
  width: 32rpx;
  height: 32rpx;
  display: flex;
  align-items: center;
  justify-content: center;
}

.cancel-button {
  margin-left: 20rpx;
  color: #007aff;
  font-size: 28rpx;
}
</style>
```

# 父组件使用

```vue
<template>
  <view>
    <FlInput
      v-model="inputValue"
      placeholder="搜索商品"
      showCancelButton
      @focus="onInputFocus"
      @blur="onInputBlur"
      @clear="onInputClear"
      @cancel="onInputCancel"
    />
  </view>
</template>

<script>
import FlInput from "@/components/FlInput.vue";

export default {
  name: "Search",
  components: {
    FlInput,
  },
  data() {
    return {
      inputValue: "",
    };
  },
  methods: {
    onInputFocus() {
      console.log("Input focused");
    },
    onInputBlur() {
      console.log("Input blurred");
    },
    onInputClear() {
      console.log("Input cleared");
    },
    onInputCancel() {
      console.log("Search canceled");
      this.inputValue = ""; // 重置输入框内容
      // 你可以在这里添加任何需要在取消时执行的操作，比如关闭搜索面板
    },
  },
};
</script>
```
