```html
<!-- 侧边选择索引 -->
<view
  class="fixed_bar"
  style="height: {{barHeight}}px;"
  catchtouchstart="touchStart"
  catchtouchmove="touchMove"
  catchtouchend="touchEnd"
  catchtouchcancel="touchCancel"
>
  <view
    wx:for="{{city_list}}"
    wx:key="index"
    style="height: {{barHeight/22}}px;"
  >
    <view
      class="bar_item flex-column j_c {{curr==index&&'bar_item_active'}}"
      style="width: {{barHeight/22*0.75}}px;height: {{barHeight/22*0.75}}px;"
    >
      {{item.letter}}
    </view>
  </view>
</view>

<view wx:if="{{showLetter && city_list[curr].letter}}" class="fixed_letter">
  {{city_list[curr].letter}}
</view>
```

```js
Page({
  data: {
    city_list: [], // 城市列表数据
    barHeight: 0, // 侧边栏高度
    curr: -1, // 当前选中的字母索引
    scrollViewId: "", // 滚动到的视图id
    showLetter: false, // 是否显示字母提示
  },
  onLoad: function () {
    wx.getSystemInfo({
      success: (res) => {
        let winHeight = res.windowHeight;
        let barHeight = winHeight - (res.windowWidth / 750) * 300;
        this.setData({
          barHeight: barHeight,
        });
      },
    });
  },
  touchStart(e) {
    // 处理触摸开始事件，设置当前选中的字母索引
    let index = this.getCurrIndex(e.touches[0].pageY);
    this.setData({
      curr: index,
      showLetter: true,
      scrollViewId: this.data.city_list[index].letter,
    });
  },
  touchMove(e) {
    // 处理触摸移动事件，更新选中的字母索引
    let index = this.getCurrIndex(e.touches[0].pageY);
    this.setData({
      curr: index,
      scrollViewId: this.data.city_list[index].letter,
    });
  },
  touchEnd() {
    // 处理触摸结束事件，隐藏字母提示
    this.setData({
      showLetter: false,
    });
  },
  getCurrIndex(pageY) {
    // 根据触摸位置计算当前字母索引
    const { barTop, barHeight } = this.data;
    let index = Math.floor(
      (pageY - barTop) / (barHeight / this.data.city_list.length)
    );
    if (index < 0) index = 0;
    if (index >= this.data.city_list.length)
      index = this.data.city_list.length - 1;
    return index;
  },
});
```
